<div class="profile-page-wrapper mt-5 bg-light-subtle min-vh-100 pb-5" *ngIf="currentUser">
  <div class="container py-4">
    <div class="row justify-content-center">
      <div class="col-xl-10 animate-slide-up">

        <div class="card border-0 shadow-lg rounded-5 overflow-hidden mb-5 bg-white">
          <div class="profile-banner animate-gradient" style="height: 180px;"></div>
          <div class="card-body p-4 p-md-5 pt-0 text-center position-relative">
            
            <div class="avatar-container">
              <img [src]="'https://ui-avatars.com/api/?name=' + currentUser.fullName + '&background=2e7d32&color=fff&size=150&bold=true'"
                   alt="Farmer Profile"
                   class="img-fluid rounded-circle shadow-lg mb-3 border border-5 border-white bg-white avatar-main">
              <div class="verified-badge" title="Verified Farmer">
                <i class="fa-solid fa-circle-check"></i>
              </div>
            </div>

            <h1 class="display-6 fw-bold text-dark mb-1">{{ currentUser.fullName | titlecase }}</h1>
            <p class="text-success fw-bold text-uppercase ls-1 small mb-4">
              <i class="fa-solid fa-seedling me-2"></i>Verified FarmEase Member
            </p>

            <div class="d-flex justify-content-center gap-3">
              <button (click)="editProfile()" class="btn btn-success rounded-pill px-4 py-2 fw-bold shadow-sm btn-hover-grow">
                <i class="fa-solid fa-user-gear me-2"></i>Edit My Account
              </button>
            </div>
          </div>
        </div>

        <div class="row g-4 mb-5" *ngIf="currentUser?.role !== 'admin'">
          <div class="col-md-4">
            <div class="card action-card p-4 rounded-4 shadow-sm border-0 h-100 text-center transition-all bg-white" routerLink="/Cart">
              <div class="icon-box bg-warning-subtle text-warning mx-auto mb-3 rounded-circle d-flex align-items-center justify-content-center">
                <i class="fa-solid fa-basket-shopping fs-3"></i>
              </div>
              <h5 class="fw-bold mb-1">My Basket</h5>
              <p class="text-muted small mb-0">Active items for checkout</p>
            </div>
          </div>

          <div class="col-md-4">
            <div class="card action-card p-4 rounded-4 shadow-sm border-0 h-100 text-center transition-all bg-white" routerLink="/Orders">
              <div class="icon-box bg-primary-subtle text-primary mx-auto mb-3 rounded-circle d-flex align-items-center justify-content-center">
                <i class="fa-solid fa-receipt fs-3"></i>
              </div>
              <h5 class="fw-bold mb-1">Purchase History</h5>
              <p class="text-muted small mb-0">Track shipments & invoices</p>
            </div>
          </div>

          <div class="col-md-4">
            <div class="card action-card p-4 rounded-4 shadow-sm border-0 h-100 text-center transition-all bg-white" routerLink="/WishlistComponent">
              <div class="icon-box bg-danger-subtle text-danger mx-auto mb-3 rounded-circle d-flex align-items-center justify-content-center">
                <i class="fa-solid fa-heart-circle-check fs-3"></i>
              </div>
              <h5 class="fw-bold mb-1">Saved Items</h5>
              <p class="text-muted small mb-0">Your favorite seeds & tools</p>
            </div>
          </div>
        </div>

        <div class="row g-4 text-start">
          <div class="col-md-6">
            <div class="card info-card p-4 rounded-4 bg-white shadow-sm border-0 h-100 border-start border-success border-4">
              <small class="text-muted text-uppercase fw-bold d-block mb-3 ls-1">Communication</small>
              <div class="d-flex align-items-center mb-3">
                <div class="info-icon bg-light text-success me-3"><i class="fa-solid fa-envelope"></i></div>
                <span class="text-dark fw-semibold">{{ currentUser.email }}</span>
              </div>
              <div class="d-flex align-items-center">
                <div class="info-icon bg-light text-success me-3"><i class="fa-solid fa-phone"></i></div>
                <span class="text-dark fw-semibold">{{ currentUser.phone || 'Register Mobile Number' }}</span>
              </div>
            </div>
          </div>

          <div class="col-md-6">
            <div class="card info-card p-4 rounded-4 bg-white shadow-sm border-0 h-100 border-start border-warning border-4">
              <small class="text-muted text-uppercase fw-bold d-block mb-3 ls-1">Farm Location & Logistics</small>
              <div class="d-flex align-items-center mb-3">
                <div class="info-icon bg-light text-danger me-3"><i class="fa-solid fa-location-dot"></i></div>
                <span class="text-dark fw-semibold">{{ currentUser.address || 'Assign Delivery Address' }}</span>
              </div>
              <div class="d-flex align-items-center">
                <div class="info-icon bg-light text-primary me-3"><i class="fa-solid fa-calendar"></i></div>
                <span class="text-dark fw-semibold">Member Since: {{ currentUser.dob || '2026' }}</span>
              </div>
            </div>
          </div>
        </div>

        <p class="text-center text-muted mt-5 small animate-fade-in">
          <i class="fa-solid fa-copyright me-1"></i> 2026 FarmEase Tech â€¢ Helping India Grow Sustainably
        </p>

      </div>
    </div>
  </div>
</div>
