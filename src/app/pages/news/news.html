<section class="news-hero py-5 mb-4 shadow-sm" style="background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1500937386664-56d1dfef3854?auto=format&fit=crop&q=80&w=2070'); background-size: cover; background-position: center;">
  <div class="container text-center py-4 animate__animated animate__fadeIn">
    <h1 class="display-4 fw-bold text-white mb-2">
      <i class="fa-solid fa-newspaper me-3 text-success"></i>News <span class="text-success">FarmEase</span>
    </h1>
    <p class="lead text-white-50 mx-auto" style="max-width: 600px;">
      Stay ahead with real-time agricultural insights, market trends, and smart farming updates.
    </p>
  </div>
</section>

<div class="container pb-5">
  
  <div class="d-flex align-items-center justify-content-between mb-4 px-2 animate-fade-in">
    <div>
      <h3 class="fw-bold text-dark mb-0">Latest Bulletins</h3>
      <div class="bg-success rounded-pill mt-1" style="height: 4px; width: 40px;"></div>
    </div>
    <span class="badge bg-success-subtle text-success rounded-pill px-3 py-2 border border-success border-opacity-25" *ngIf="articles.length > 0">
      {{ articles.length }} Updates Found
    </span>
  </div>

  <div class="row g-4" *ngIf="articles.length > 0; else noData">
    <div class="col-12 col-md-6 col-lg-4 animate-slide-up" *ngFor="let item of articles; let i = index">
      <div class="h-100 transition-hover">
        <app-card [data]="item"></app-card>
      </div>
    </div>
  </div>

  <div class="text-center my-5 py-4">
    <div *ngIf="loading" class="animate-fade-in">
      <div class="spinner-grow text-success" role="status" style="width: 3rem; height: 3rem;">
        <span class="visually-hidden">Loading news...</span>
      </div>
      <p class="mt-3 text-muted fw-semibold">Fetching the harvest of news...</p>
    </div>

    <div *ngIf="!loading" class="animate-fade-in">
      <button class="btn btn-success btn-lg rounded-pill px-5 py-3 shadow-lg fw-bold btn-hover-grow" (click)="loadMore()">
        <i class="fa-solid fa-cloud-arrow-down me-2"></i>Load More Updates
      </button>
    </div>
  </div>

  <ng-template #noData>
    <div class="text-center py-5 animate-fade-in" *ngIf="!loading">
      <div class="mb-4">
        <i class="fa-solid fa- mailbox-empty text-light-subtle" style="font-size: 6rem;"></i>
      </div>
      <h3 class="fw-bold text-secondary">The fields are quiet.</h3>
      <p class="text-muted">No new articles found. Please check back later for the latest agricultural updates.</p>
      <button class="btn btn-outline-success rounded-pill px-4 mt-3" (click)="loadMore()">
        <i class="fa-solid fa-arrows-rotate me-2"></i>Refresh Feed
      </button>
    </div>
  </ng-template>
</div>